\chapter{tcp\+\_\+server for XPN}
\hypertarget{md_src_2tcp__server_2README}{}\label{md_src_2tcp__server_2README}\index{tcp\_server for XPN@{tcp\_server for XPN}}
\label{md_src_2tcp__server_2README_autotoc_md0}%
\Hypertarget{md_src_2tcp__server_2README_autotoc_md0}%
 \hypertarget{md_src_2tcp__server_2README_autotoc_md1}{}\doxysection{\texorpdfstring{Pre-\/requisites\+:}{Pre-requisites:}}\label{md_src_2tcp__server_2README_autotoc_md1}

\begin{DoxyItemize}
\item In order to use mosquitto on tcp\+\_\+server module, you have to install the following packages\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{sudo\ apt-\/get\ install\ mosquitto\ mosquitto-\/clients\ mosquitto-\/dev\ libmosquitto-\/dev}

\end{DoxyCode}



\begin{DoxyItemize}
\item Create the mosquitto config file\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{touch\ /etc/mosquitto/conf.d/mosquitto.conf}

\end{DoxyCode}



\begin{DoxyItemize}
\item Insert the following parameters\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{port\ 2555}
\DoxyCodeLine{max\_queued\_messages\ 0}
\DoxyCodeLine{memory\_limit\ 0}

\end{DoxyCode}



\begin{DoxyItemize}
\item Then, we need to start the Mosquitto MQTT service\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{sudo\ systemctl\ restart\ mosquitto}

\end{DoxyCode}
\hypertarget{md_src_2tcp__server_2README_autotoc_md2}{}\doxysection{\texorpdfstring{Compile\+:}{Compile:}}\label{md_src_2tcp__server_2README_autotoc_md2}

\begin{DoxyItemize}
\item To compile the tcp\+\_\+server just execute\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{make\ clean}
\DoxyCodeLine{make}

\end{DoxyCode}

\end{DoxyItemize}\hypertarget{md_src_2tcp__server_2README_autotoc_md3}{}\doxysection{\texorpdfstring{Execution\+:}{Execution:}}\label{md_src_2tcp__server_2README_autotoc_md3}

\begin{DoxyItemize}
\item In order to start one tcp\+\_\+server at host \"{}localhost\"{} and port \"{}7555\"{}, you can use\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{echo\ localhost\ >\ machinefile}
\DoxyCodeLine{./scripts/execute/tcp\_server.sh\ /tmp/xpn\ machinefile\ 7555}

\end{DoxyCode}

\end{DoxyItemize}\hypertarget{md_src_2tcp__server_2README_autotoc_md4}{}\doxysubsection{\texorpdfstring{Individual tcp\+\_\+server}{Individual tcp\_server}}\label{md_src_2tcp__server_2README_autotoc_md4}

\begin{DoxyCode}{0}
\DoxyCodeLine{/work/xpn/src/tcp\_server/xpn\_tcp\_server\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ -\/ns\ /export/tcp\_server.dns\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ -\/p\ 3456}

\end{DoxyCode}
\hypertarget{md_src_2tcp__server_2README_autotoc_md5}{}\doxysubsection{\texorpdfstring{Several tcp\+\_\+server with MPI}{Several tcp\_server with MPI}}\label{md_src_2tcp__server_2README_autotoc_md5}

\begin{DoxyCode}{0}
\DoxyCodeLine{mpirun\ -\/np\ 2\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ -\/machinefile\ machinefile\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ /work/xpn/src/tcp\_server/xpn\_tcp\_server\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ -\/ns\ /export/tcp\_server.dns\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ -\/p\ 3456}

\end{DoxyCode}
\hypertarget{md_src_2tcp__server_2README_autotoc_md6}{}\doxysubsection{\texorpdfstring{Using docker u20.\+sh}{Using docker u20.sh}}\label{md_src_2tcp__server_2README_autotoc_md6}

\begin{DoxyCode}{0}
\DoxyCodeLine{./u20.sh\ start\ 4}
\DoxyCodeLine{./u20.sh\ network\ |\ grep\ -\/v\ "{}Show"{}\ >\ machinefile}
\DoxyCodeLine{./u20.sh\ mpirun\ 2\ "{}/work/xpn/src/tcp\_server/xpn\_tcp\_server\ -\/ns\ /export/tcp\_server.dns\ -\/p\ 3456"{}\ \&}
\DoxyCodeLine{./u20.sh\ mpirun\ 2\ "{}/work/xpn/test/integrity/xpn/run.sh"{}}
\DoxyCodeLine{./u20.sh\ stop}

\end{DoxyCode}
 